<!DOCTYPE html>
<html>
  <head>
  <meta name="google-site-verification" content="PEoGJEnOzIxEhfcpIzK3_Zzzj8ORVNuKKujivR5Q5_Q" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <title>MedimailHub</title>
    
    <link rel="stylesheet" media="all" href="/pipeline_assets/application-1d0817edc4ec32e6b472aa1061d497366fe70254ac8ed76d3e64719e5636b96b.css" data-turbolinks-track="reload" />
    <script src="/pipeline_assets/application-065a93d7dd3c074f464d4823423cc63587300dfa9b9adfdc4764bac490d0e24d.js" data-turbolinks-track="reload"></script>
    <script src="//static.opentok.com/webrtc/v2.2/js/TB.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
    
<title>MedimailHub |Untitled</title> 
    
   
  


  </head>

  <body>


  	 <nav class="navbar navbar-default navbar-fixed-top">
  <!-- <div class="container-fluid"> -->
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/launchpad"><MAP>
        <img alt="Brand" src="/logo.png" style="height:42px; margin-bottom: 5px;">&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMedimail Hub</MAP></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
<!--       <ul class="nav navbar-nav">
        <li class="active"><a href="#">Link <span class="sr-only">(current)</span></a></li>
        <li><a href="#">Link</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Separated link</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">One more separated link</a></li>
          </ul>
        </li>
      </ul> -->
<!--       <form class="navbar-form navbar-left">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form> -->
      <ul class="nav navbar-nav navbar-right">
        <!-- <li><a href="#">Link</a></li> -->
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">username@example.com<span class="caret"></span></a>
          <ul class="dropdown-menu dropdown-menu-custom">
            <li><a class="class-white class-hover" href="/users/edit">Edit Profile</a></li>
            <li role="separator" class="divider"></li>
            <li><a class="class-white class-hover" rel="nofollow" data-method="delete" href="/users/sign_out">Log Out</a></li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    <br><br><br>
    <div class='container animated fadeIn' id='cont'>
      <!--<span class="notice"></span>-->
      <!--<span class="alert"></span>-->
      


<script type="text/javascript">
$(document).ready(function(){
  setTimeout(function(){
    $('.alert').fadeOut();
  }, 2000);
 })
</script>


      <h1 id="bigOne"></h1>
      <br>
<br>
<div class="row">
  <div class="spacer"></div>
  <div class="col-md-12">
   <!-- <a class="btn btn-primary btn-darkblue" href="/conversations/new">Compose</a> -->
    <div class="spacer"></div>    
  </div>
  
  <div class="col-md-4">
    <br>
    <div class="panel panel-default">
      <div class="panel-body">
        
<ul class="nav nav-pills nav-stacked">

    <li class="active">
    <a href="/conversations/new">

        <em class="fa fa-paper-plane-o fa-lg"></em>
        <span id="Compose">Compose</span>
</a>  </li>

  <li class="">
    <a href="/mailbox/inbox">
        <span class="label label-danger pull-right">0</span>
        <em class="fa fa-inbox fa-lg"></em>
        <span id="Inbox">Inbox</span>
</a>  </li>
  <li class="">
    <a href="/mailbox/sent">

        <em class="fa fa-paper-plane-o fa-lg"></em>
        <span id="Sent">Sent</span>
</a>  </li>

  <li class="">
    <a href="/mailbox/trash">
        <em class="fa fa-trash-o fa-lg"></em>
        <span id="Trash">Trash</span>
</a>  </li>
</ul>
      </div>
    </div>
  </div>

  <div class="col-md-8">
        <br>
    <div class="panel panel-default">
      <div class="panel-body">
            <form enctype="multipart/form-data" action="/conversations" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

  <div class="form-group">
    <label for="conversation_recipients">Recipients</label>
      <input name="conversation[recipients][]" type="hidden" value="" /><select multiple="multiple" class="js-example-basic-multiple form-control" id="recipients" required="required" name="conversation[recipients][]"><option value="1">User user</option>
<option value="2">User2 user2</option></select>
  </div>
  <div class="form-group">
    <label for="conversation_subject">Subject</label>
    <input placeholder="Subject" class="form-control" id="subject" required="required" type="text" name="conversation[subject]" />
  </div>
  <div class="form-group">
    <label for="conversation_message">Message</label>
    <textarea class="form-control" placeholder="Type your message here" id="message" rows="4" required="required" name="conversation[body]">
</textarea>
    
  </div>
  <div class="row">
    <div class="col-md-9 col-xs-12">
    <div class="input-group">
      <label class="input-group-btn">
        <span class="btn btn-primary btn-darkblue btn-file">
        Add attachment <input style="display: none;" type="file" name="conversation[attachment]" id="conversation_attachment" />  
        </span>
      </label>
      <input type="text" id="attachment-text" class="form-control" readonly="">
    </div> 
    <br>
    </div> 
    
    <div class="col-md-3 col-xs-12">
    <input type="submit" name="commit" value="Send Message" class="btn btn-primary btn-darkblue" data-disable-with="Send Message" />
    </div>
  </div>
</form>
<div class="modal fade"
           id="invite_form" tabindex="-1" role="dialog" 
           aria-labelledby="myModalLabel"
           aria-hidden="true" 
           data-backdrop="false" 
           data-keyboard="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" 
                data-dismiss="modal" 
                aria-label="Close">
                <span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title">Contact hasn't signed up to Medimail</h3>
      </div>
    <div class="modal-body">Would you like to invite him/her to use this app?
      <br>
      <form action="/conversations/invite" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

      <label for="email">Email</label>
      <input type="email" name="email" id="email" />
      <br>
      <label for="invitee">Name</label> 
      <input type="text" name="invitee" id="invitee" />
      
    </div>
     <div class="modal-footer">
        <input type="submit" name="commit" value="Invite" data-disable-with="Invite" />
</form>        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<script type="text/javascript">
var $exampleMulti = $(".js-example-basic-multiple").select2({tags: true});
$exampleMulti.select2('val', []);
$(".js-example-basic-multiple").on('select2:select', function (e) { 
    //var selected_element = $(e.currentTarget);
    //var select_val = selected_element.val().pop();
    //console.log(parseInt(select_val),selected_element.val())

  new_val=$.grep($(".js-example-basic-multiple").select2('val'), function (value) {
    if (!(isNaN(parseInt(value)))){
      return true;
    }
    else{
      $("#invite_form").modal("show");
      return false;
    }
  });
  
  //$(".js-example-basic-multiple").select2('data', new_data);
  $exampleMulti.val(new_val).trigger("change")

    //if(isNaN(parseInt(select_val))){
     //   $('#invite_form').modal("show");
      //  $(".js-example-basic-multiple").select2('val',selected_element.val());
      //}

});
</script>

<script>
$(document).on('change', ':file', function() {
    var input = $(this),
        numFiles = input.get(0).files ? input.get(0).files.length : 1,
        label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
    input.trigger('fileselect', [numFiles, label]);
    console.log(numFiles);
    console.log(label);
    document.getElementById("attachment-text").value = label;
});
</script>
      </div>
    </div>
  </div>

</div>

    </div>

  <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-messaging.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.6.3/firebase.js"></script>

  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBeCK7L0N6njG4RbNSQGyPT14ZvNW57X2E",
      authDomain: "medimailhub.firebaseapp.com",
      databaseURL: "https://medimailhub.firebaseio.com",
      storageBucket: "medimailhub.appspot.com",
      messagingSenderId: "916203777994"
    };
    firebase.initializeApp(config);

    const messaging2 = firebase.messaging();

    messaging2.onMessage(function(payload) {

      msg = "<br><br><div class=\"alert alert-notice\"><a href=\"#\" data-dismiss=\"alert\" class=\"close\">×</a><ul id=\"test\"><li>"+payload.notification.body+"</li></ul></div>";
    document.getElementById('cont').innerHTML = msg + document.getElementById('cont').innerHTML;
    })



    // var bigOne = document.getElementById('bigOne');
    // var dbRef = firebase.database().ref().child('text');
    // dbRef.on('value',snap => bigOne.innerText = snap.val());

  </script>


  </body>

</html>



